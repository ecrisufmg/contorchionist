#N canvas 899 50 1340 838 12;
#X declare -path ..;
#N canvas 641 96 946 765 classification 0;
#X obj 100 101 cnv 2 350 2 empty empty CLASSIFICATION 5 12 0 14 #606060 #404040 0;
#X obj 100 167 cnv 2 350 2 empty empty empty 0 12 0 12 #606060 #404040 0;
#X obj 505 20 inlet;
#X floatatom 533 226 5 0 0 1 classification - - 0;
#X text 526 305 0 = agogo;
#X text 526 325 1 = berimbau;
#X msg 533 279 agogô;
#N canvas 294 104 697 646 class 0;
#X obj 277 271 outlet;
#X obj 281 112 inlet;
#X obj 281 135 sel 0 1;
#X msg 371 213 set berimbau;
#X msg 279 211 set agogô;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 2 1 3 0;
#X connect 3 0 0 0;
#X connect 4 0 0 0;
#X restore 533 256 pd class;
#X listbox 105 137 13 0 0 2 - - - 16;
#X text 627 372 0: "crushed_to_ordinario" \, 1: "ordinario_to_crushed" \, 2: "pizzicato_bartok" \, 3: "trill_major_second_up" \, 4: "trill_minor_second_up", f 33;
#X obj 152 236 sel 0 1 2 3 4 5, f 32;
#X msg 297 299 set trill minor second up;
#X msg 144 498 set overpressure;
#X msg 190 468 set ordinário;
#X msg 223 425 set pizzicato;
#X obj 482 57 unpack f f;
#X floatatom 328 136 11 0 0 2 probability - - 16;
#X msg 259 390 set trill;
#X connect 2 0 15 0;
#X connect 3 0 7 0;
#X connect 7 0 6 0;
#X connect 10 0 12 0;
#X connect 10 1 13 0;
#X connect 10 2 14 0;
#X connect 10 3 17 0;
#X connect 11 0 8 0;
#X connect 12 0 8 0;
#X connect 13 0 8 0;
#X connect 14 0 8 0;
#X connect 15 0 10 0;
#X connect 15 1 16 0;
#X connect 17 0 8 0;
#X coords 0 -1 1 1 350 70 2 100 100;
#X restore 263 499 pd classification;
#X obj 23 14 declare -path ..;
#X obj 263 443 torch.ts -v;
#X msg 110 53 stop;
#X obj 57 51 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#N canvas 1206 45 1228 949 files 0;
#X text 18 46 recebe o endereço da pasta ->;
#X obj 19 136 table \$0-sound;
#X obj 225 187 pack s f \$0;
#X msg 225 213 read -resize \$1 \$3-sound;
#X obj 225 239 soundfiler;
#X floatatom 225 266 15 0 0 1 samples - - 0;
#X obj 225 289 / 44100;
#X floatatom 225 313 10 0 0 1 length\ (seconds) - - 0;
#X obj 291 338 s sample-length;
#X obj 225 362 t b b b;
#X obj 546 142 tabplay~ \$0-sound;
#X obj 271 384 s play;
#X obj 560 80 r play;
#N canvas 400 112 661 397 counter_files 0;
#X obj 168 235 f 0;
#X obj 224 234 + 1;
#X msg 343 213 0;
#X obj 168 336 outlet;
#X obj 356 20 inlet;
#X obj 344 180 r reset_analysis;
#X obj 167 172 spigot;
#X msg 224 151 1;
#X obj 224 261 sel 4;
#X msg 276 190 0;
#X obj 224 313 t b b;
#X obj 167 13 inlet;
#X obj 256 239 r files_size;
#X obj 356 47 t b b b;
#X connect 0 0 1 0;
#X connect 0 0 3 0;
#X connect 1 0 0 1;
#X connect 1 0 8 0;
#X connect 2 0 0 1;
#X connect 4 0 13 0;
#X connect 5 0 2 0;
#X connect 6 0 0 0;
#X connect 7 0 6 1;
#X connect 8 0 10 0;
#X connect 9 0 6 1;
#X connect 10 0 2 0;
#X connect 10 1 9 0;
#X connect 11 0 6 0;
#X connect 12 0 8 1;
#X connect 13 0 6 0;
#X connect 13 1 7 0;
#X connect 13 2 2 0;
#X restore 225 88 pd counter_files;
#X floatatom 134 102 5 0 0 0 exemplos - exemplos 0;
#X obj 382 129 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 225 159 t a b;
#X msg 569 108 stop;
#X obj 225 46 r files;
#X obj 694 212 s files;
#X obj 814 23 loadbang;
#X obj 814 45 t b b;
#X obj 814 163 s files_size;
#X floatatom 909 162 5 0 0 0 - - - 0;
#X msg 846 79 read data/train_files.txt;
#X msg 1041 81 read data/test_files.txt;
#X obj 946 42 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 334 29 inlet;
#X obj 334 52 t b b;
#X obj 366 75 s reset_analysis;
#X obj 546 48 inlet;
#X obj 720 103 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 225 415 s analize;
#X obj 694 187 del 5;
#X obj 546 195 outlet~;
#X msg 653 252 bang;
#X obj 662 166 t b b;
#X obj 847 102 text define files;
#X obj 814 128 text size files;
#X obj 225 135 text get files;
#X obj 486 261 s~ in_signal;
#X msg 105 202 4;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 7 0 9 0;
#X connect 9 0 32 0;
#X connect 9 2 11 0;
#X connect 10 0 34 0;
#X connect 10 0 40 0;
#X connect 10 1 36 0;
#X connect 12 0 10 0;
#X connect 13 0 14 0;
#X connect 13 0 39 0;
#X connect 15 0 13 1;
#X connect 16 0 2 0;
#X connect 17 0 10 0;
#X connect 18 0 13 0;
#X connect 20 0 21 0;
#X connect 21 0 38 0;
#X connect 21 1 25 0;
#X connect 24 0 37 0;
#X connect 25 0 37 0;
#X connect 26 0 21 0;
#X connect 27 0 28 0;
#X connect 28 0 13 1;
#X connect 28 1 29 0;
#X connect 30 0 10 0;
#X connect 31 0 38 0;
#X connect 33 0 19 0;
#X connect 35 0 10 0;
#X connect 36 1 33 0;
#X connect 38 0 22 0;
#X connect 38 0 23 0;
#X connect 39 0 16 0;
#X connect 41 0 39 0;
#X restore 57 75 pd files;
#X obj 57 108 output~;
#X obj 263 147 r~ in_signal;
#X obj 263 263 r \$0-mtcc-data;
#X obj 263 234 s \$0-mtcc-data;
#X obj 291 321 list length;
#N canvas 482 25 1684 720 gate 0;
#X obj 244 171 list split 10;
#X obj 244 230 expr if($f1 == 0 \, 0 \, if($f2 == 0 \, 0 \, if($f3 == 0 \, 0 \, if($f4 == 0 \, 0 \, if($f5 == 0 \, 0 \, if($f6 == 0 \, 0 \, if($f7 == 0 \, 0 \, if($f8 == 0 \, 0 \, if($f9 == 0 \, 0 \, if($f10 == 0 \, 0 \, 1)))))))))), f 47;
#X obj 244 195 unpack f f f f f f f f f f, f 47;
#X obj 205 294 spigot;
#X obj 203 142 t l l;
#X obj 203 118 inlet;
#X obj 205 319 outlet;
#X connect 0 0 2 0;
#X connect 1 0 3 1;
#X connect 2 0 1 0;
#X connect 2 1 1 1;
#X connect 2 2 1 2;
#X connect 2 3 1 3;
#X connect 2 4 1 4;
#X connect 2 5 1 5;
#X connect 2 6 1 6;
#X connect 2 7 1 7;
#X connect 2 8 1 8;
#X connect 2 9 1 9;
#X connect 3 0 6 0;
#X connect 4 0 3 0;
#X connect 4 1 0 0;
#X connect 5 0 4 0;
#X restore 263 211 pd gate;
#X obj 466 221 list length;
#X floatatom 466 245 5 0 0 0 - - - 0;
#X obj 263 379 route tensor;
#X obj 519 309 t b b;
#X obj 552 363 s \$0-mtcc-data;
#X msg 519 335 clear;
#X obj 581 316 loadbang;
#X floatatom 291 345 5 0 0 0 - - - 0;
#X msg 278 419 load TorchScript/CNN1.ts;
#X text 413 41 Convolutional Neural Network classifier;
#X text 430 64 - 4 2D convolutional layers;
#X text 429 81 - Multi-head attention;
#X text 429 96 - Linear layers;
#X text 564 282 <-- num_frames = 171;
#X obj 263 287 torch.ls2tensor melspec -shape 64 173;
#X obj 400 357 print;
#X obj 709 422 timer;
#X msg 823 386 tempo 1 sec;
#X obj 263 173 torch.melspectrogram~ -n_mels 64 -n_fft 1024 -hop 512 -win hann -norm none -fmax 0 -fb_norm slaney -unit power -melcalc htk, f 71;
#X obj 709 476 print tempo;
#X obj 530 423 t b;
#X connect 2 0 0 0;
#X connect 3 0 5 1;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 5 0 6 1;
#X connect 7 0 30 0;
#X connect 8 0 26 0;
#X connect 10 0 19 0;
#X connect 11 0 9 0;
#X connect 12 0 13 0;
#X connect 14 0 2 0;
#X connect 15 0 17 0;
#X connect 15 0 28 0;
#X connect 15 1 16 0;
#X connect 17 0 16 0;
#X connect 18 0 17 0;
#X connect 20 0 2 0;
#X connect 26 0 10 0;
#X connect 26 0 14 0;
#X connect 26 0 32 0;
#X connect 26 1 15 0;
#X connect 28 0 31 0;
#X connect 29 0 28 0;
#X connect 30 0 12 0;
#X connect 30 0 11 0;
#X connect 32 0 28 1;
