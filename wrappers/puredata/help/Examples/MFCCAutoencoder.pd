#N canvas 848 57 1196 800 12;
#X declare -lib timbreIDLib;
#X declare -path ..;
#N canvas 1402 68 1158 846 test_dataset 0;
#X obj 63 311 text get \$0-dataset;
#X obj 63 277 t f b;
#X obj 246 234 text size \$0-dataset;
#X obj 63 349 outlet;
#X obj 61 104 inlet;
#X obj 247 295 s datasize;
#X obj 518 378 text define \$0-dataset;
#X obj 484 148 openpanel;
#X obj 484 173 t a b;
#X obj 484 202 pack s f;
#X msg 484 229 read \$1;
#X obj 451 104 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 452 126 t b b;
#X obj 326 55 r read-text;
#X obj 326 79 t b a;
#X obj 637 204 t a b;
#X obj 637 233 pack s f;
#X obj 637 131 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X msg 637 260 write \$1;
#X obj 637 179 savepanel;
#X obj 559 349 r clear-text;
#X obj 451 82 r load;
#X obj 637 107 r save;
#X obj 484 285 t b a;
#X obj 454 555 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 409 402 loadbang;
#X msg 469 447 clear;
#X obj 409 424 t b b b b;
#X obj 409 366 r training;
#X obj 62 218 f;
#X obj 100 211 + 1;
#X obj 155 207 sel 0;
#X obj 100 237 mod 60;
#X obj 9 179 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X floatatom 10 271 5 0 0 0 - - - 0;
#X obj 336 476 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 143 106 inlet;
#X msg 454 574 read ../resources/data/mfcc_data_teste.txt;
#X connect 0 0 3 0;
#X connect 1 0 0 0;
#X connect 2 0 5 0;
#X connect 2 0 32 1;
#X connect 4 0 29 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 23 0;
#X connect 11 0 12 0;
#X connect 12 1 7 0;
#X connect 13 0 14 0;
#X connect 14 0 2 0;
#X connect 14 1 6 0;
#X connect 15 0 16 0;
#X connect 16 0 18 0;
#X connect 17 0 19 0;
#X connect 18 0 6 0;
#X connect 19 0 15 0;
#X connect 20 0 6 0;
#X connect 21 0 11 0;
#X connect 22 0 17 0;
#X connect 23 0 2 0;
#X connect 23 1 6 0;
#X connect 24 0 37 0;
#X connect 25 0 27 0;
#X connect 26 0 6 0;
#X connect 27 1 2 0;
#X connect 27 2 24 0;
#X connect 27 3 26 0;
#X connect 28 0 27 0;
#X connect 29 0 30 0;
#X connect 29 0 1 0;
#X connect 29 0 34 0;
#X connect 30 0 32 0;
#X connect 32 0 29 1;
#X connect 32 0 31 0;
#X connect 33 0 29 0;
#X connect 35 0 27 0;
#X connect 36 0 1 0;
#X connect 37 0 6 0;
#X restore 917 95 pd test_dataset;
#N canvas 931 27 1408 1025 mfcc_analysis 0;
#X obj 452 16 r~ sig;
#X msg 492 181 window_function 3;
#X msg 501 153 normalize 1;
#X obj 492 114 loadbang;
#X obj 695 337 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 729 449 list length;
#X floatatom 729 473 5 0 0 0 - - - 0;
#X obj 589 429 list;
#X text 714 336 <-- reseta a lista;
#X obj 710 305 loadbang;
#X obj 614 391 list, f 12;
#X obj 614 365 list prepend;
#X obj 695 278 r reset_analysis;
#X obj 491 302 t b l, f 18;
#N canvas 93 98 661 397 counter_frames 0;
#X obj 170 138 f 0;
#X obj 226 137 + 1;
#X msg 270 110 0;
#X obj 227 160 sel 20;
#X obj 227 195 outlet;
#X obj 169 35 inlet;
#X obj 271 54 loadbang;
#X obj 279 79 r reset_analysis;
#X text 287 196 bang a cada 20 frames de mfcc recebidos;
#X floatatom 170 239 5 0 0 1 nº\ de\ frames\ recebidos\ (indexado\ a\ zero) - - 0;
#X connect 0 0 1 0;
#X connect 0 0 9 0;
#X connect 1 0 0 1;
#X connect 1 0 3 0;
#X connect 2 0 0 1;
#X connect 3 0 2 0;
#X connect 3 0 4 0;
#X connect 5 0 0 0;
#X connect 6 0 2 0;
#X connect 7 0 2 0;
#X restore 491 342 pd counter_frames;
#X obj 491 368 t b b;
#X msg 868 54 clear;
#X obj 868 31 r reset_analysis;
#X obj 868 79 text define mfcc_matrix;
#X obj 451 223 mfcc~ 1024 100;
#X obj 451 248 list split 21;
#X obj 451 278 list split 1;
#X obj 477 62 r mfcc_bang;
#X msg 603 523 input_shape 20 20;
#X obj 590 589 route tensor shape;
#X obj 603 501 loadbang;
#X text 769 474 <-- total de elementos do tensor achatado (nº frames x nº mfccs), f 41;
#X listbox 651 619 20 0 0 1 shape - - 0;
#X text 229 267 recupera os 20 primeiros mfccs (excluindo o primeiro) -->, f 31;
#X text 881 548 <-- recebe o tensor achatato com shape (nº frames \, nº mfccs) e troca as posições das dimensões retornando um tensor achatado com o mesmo shape (nº mfccs \, nº frames), f 50;
#X text 178 344 bang a cada 20 frames de mfccs recebidos -->;
#X text 706 392 <-- concantena os frames de mfccs recebidos transformando em uma única lista (tensor achatado de shape (nº frames \, nº mfccs), f 64;
#X obj 1620 290 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 1514 377 list;
#X obj 1483 160 t b l, f 8;
#X obj 1483 221 t b b;
#X text 1639 291 <-- reseta a lista;
#X obj 1630 267 loadbang;
#X obj 1539 350 list, f 11;
#X obj 1539 324 list prepend;
#N canvas 400 112 661 397 counter_frames 0;
#X obj 170 138 f 0;
#X obj 226 137 + 1;
#X msg 270 110 0;
#X obj 227 160 sel 20;
#X obj 227 195 outlet;
#X obj 169 35 inlet;
#X obj 271 54 loadbang;
#X obj 279 79 r reset_analysis;
#X connect 0 0 1 0;
#X connect 1 0 0 1;
#X connect 1 0 3 0;
#X connect 2 0 0 1;
#X connect 3 0 2 0;
#X connect 3 0 4 0;
#X connect 5 0 0 0;
#X connect 6 0 2 0;
#X connect 7 0 2 0;
#X restore 1483 193 pd counter_frames;
#N canvas 400 112 661 397 counter_ex 0;
#X obj 198 136 f 0;
#X obj 254 135 + 1;
#X msg 298 108 0;
#X obj 198 93 inlet;
#X obj 313 77 loadbang;
#X obj 255 158 sel 50;
#X obj 198 223 outlet;
#X obj 381 87 inlet;
#X obj 298 53 r reset_analysis;
#X connect 0 0 1 0;
#X connect 0 0 6 0;
#X connect 1 0 0 1;
#X connect 1 0 5 0;
#X connect 2 0 0 1;
#X connect 3 0 0 0;
#X connect 4 0 2 0;
#X connect 5 0 2 0;
#X connect 7 0 5 1;
#X connect 8 0 2 0;
#X restore 1595 446 pd counter_ex;
#X obj 1514 421 t l b, f 12;
#X floatatom 1639 476 5 0 0 0 - - exemplo 0;
#X obj 1620 242 r reset_analysis;
#X obj 1513 506 text set mfcc_matrix;
#X text 1714 420 <-- número de exemplos;
#X text 1627 343 <-- concatena as linhas da matriz transposta achata novamente;
#X text 1558 376 <-- envia a matriz transposta achatada para o arquivo de texto;
#X msg 1683 422 199;
#X text 1150 194 bang a cada 20 tensores achatados recebidos -->;
#X obj 1363 417 print tensorA;
#X text 1699 448 <-- conta o número de tensores achatados recebidos;
#N canvas 1228 95 983 874 live-onset 0;
#X msg 842 182 filter_range 0 20;
#X obj 760 25 loadbang;
#X obj 114 307 outlet;
#X obj 936 76 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 936 96 loudness \$1;
#X obj 939 23 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 939 43 filter_avg \$1;
#X msg 83 216 1;
#X msg 146 214 0;
#X obj 82 279 t b b;
#X obj 176 166 + 1;
#X msg 164 141 0;
#X obj 83 117 t b b, f 12;
#X obj 146 166 f 0;
#X text 145 254 <-- análise de 20 frames espaçados 30 milissegundos, f 26;
#X obj 599 235 bark~ 2048 128 1;
#X obj 598 117 r~ sig;
#X obj 83 256 metro 10;
#X msg 832 106 mask 2 0.75;
#X msg 844 222 minvel 1;
#X obj 75 61 r analize;
#X obj 217 100 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 146 189 sel 19;
#X msg 837 141 debounce 300;
#X msg 819 63 thresh -1 4;
#X connect 0 0 15 0;
#X connect 1 0 23 0;
#X connect 1 0 0 0;
#X connect 1 0 18 0;
#X connect 1 0 19 0;
#X connect 1 0 3 0;
#X connect 1 0 5 0;
#X connect 1 0 24 0;
#X connect 3 0 4 0;
#X connect 5 0 6 0;
#X connect 7 0 17 0;
#X connect 8 0 17 0;
#X connect 9 0 13 0;
#X connect 9 1 2 0;
#X connect 10 0 13 1;
#X connect 11 0 13 1;
#X connect 12 0 7 0;
#X connect 12 1 11 0;
#X connect 13 0 10 0;
#X connect 13 0 22 0;
#X connect 15 0 12 0;
#X connect 16 0 15 0;
#X connect 17 0 9 0;
#X connect 18 0 15 0;
#X connect 19 0 15 0;
#X connect 21 0 12 0;
#X connect 22 0 8 0;
#X connect 23 0 15 0;
#X connect 24 0 15 0;
#X restore 25 46 pd live-onset;
#X obj 25 71 s mfcc_bang;
#X text 560 61 <-- recebe nº de bangs = nº frames;
#X text 109 70 <-- envia nº de bangs = nº frames para cada arquivo de áudio, f 20;
#X msg 931 54 write data/mfcc_data_teste.txt;
#N canvas 400 112 661 397 counter_ex 0;
#X obj 198 136 f 0;
#X obj 254 135 + 1;
#X msg 298 108 0;
#X obj 198 93 inlet;
#X obj 313 77 loadbang;
#X obj 255 158 sel 50;
#X obj 198 223 outlet;
#X obj 381 87 inlet;
#X obj 298 53 r reset_analysis;
#X connect 0 0 1 0;
#X connect 0 0 6 0;
#X connect 1 0 0 1;
#X connect 1 0 5 0;
#X connect 2 0 0 1;
#X connect 3 0 0 0;
#X connect 4 0 2 0;
#X connect 5 0 2 0;
#X connect 7 0 5 1;
#X connect 8 0 2 0;
#X restore 671 768 pd counter_ex;
#X obj 590 743 t l b, f 12;
#X floatatom 715 798 5 0 0 0 - - exemplo 0;
#X obj 590 828 text set mfcc_matrix;
#X msg 759 744 288;
#X text 790 742 <-- número total de exemplos;
#X text 771 769 <-- conta o número de tensores achatados recebidos (nº de exemplos), f 68;
#X obj 495 593 r mfcc_data;
#X obj 495 667 s mfcc_forward;
#X obj 542 644 s mfcc_latent;
#X obj 495 618 cyclone/gate 3;
#X obj 590 548 torch.reshape -transpose -dim0 0 -dim1 1;
#X connect 0 0 19 0;
#X connect 1 0 19 0;
#X connect 2 0 19 0;
#X connect 3 0 2 0;
#X connect 3 0 1 0;
#X connect 4 0 10 1;
#X connect 4 0 11 1;
#X connect 5 0 6 0;
#X connect 7 0 5 0;
#X connect 7 0 69 0;
#X connect 9 0 4 0;
#X connect 10 0 7 1;
#X connect 10 0 11 1;
#X connect 11 0 10 0;
#X connect 12 0 4 0;
#X connect 13 0 14 0;
#X connect 13 1 11 0;
#X connect 14 0 15 0;
#X connect 15 0 4 0;
#X connect 15 1 7 0;
#X connect 16 0 18 0;
#X connect 17 0 16 0;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 21 1 13 0;
#X connect 22 0 19 0;
#X connect 23 0 69 0;
#X connect 24 0 68 1;
#X connect 24 1 27 0;
#X connect 25 0 23 0;
#X connect 32 0 38 1;
#X connect 32 0 39 1;
#X connect 33 0 42 0;
#X connect 33 0 51 0;
#X connect 34 0 40 0;
#X connect 34 1 39 0;
#X connect 35 0 32 0;
#X connect 35 1 33 0;
#X connect 37 0 32 0;
#X connect 38 0 33 1;
#X connect 38 0 39 1;
#X connect 39 0 38 0;
#X connect 40 0 35 0;
#X connect 41 0 43 0;
#X connect 41 0 45 1;
#X connect 42 0 45 0;
#X connect 42 1 41 0;
#X connect 44 0 32 0;
#X connect 49 0 41 1;
#X connect 53 0 54 0;
#X connect 57 0 18 0;
#X connect 58 0 60 0;
#X connect 58 0 61 1;
#X connect 59 0 61 0;
#X connect 59 1 58 0;
#X connect 62 0 58 1;
#X connect 65 0 68 0;
#X connect 68 0 66 0;
#X connect 68 1 67 0;
#X connect 68 2 59 0;
#X connect 69 0 24 0;
#X restore 916 71 pd mfcc_analysis;
#X obj 917 46 s reset_analysis;
#X msg 129 343 stop;
#N canvas 1069 103 1491 949 playbuffers 0;
#X text 18 46 recebe o endereço da pasta ->;
#X obj 19 136 table \$0-sound;
#X obj 225 187 pack s f \$0;
#X msg 225 213 read -resize \$1 \$3-sound;
#X obj 225 239 soundfiler;
#X floatatom 225 266 15 0 0 1 samples - - 0;
#X obj 225 289 / 44100;
#X floatatom 225 313 10 0 0 1 length\ (seconds) - - 0;
#X obj 291 338 s sample-length;
#X obj 225 362 t b b b;
#X obj 546 213 dac~;
#X obj 546 142 tabplay~ \$0-sound;
#X obj 271 384 s play;
#X obj 560 80 r play;
#X obj 662 166 t b b;
#X obj 846 102 text define files;
#X obj 225 135 text get files;
#N canvas 400 112 661 397 counter_files 0;
#X obj 168 235 f 0;
#X obj 224 234 + 1;
#X msg 343 212 0;
#X obj 168 336 outlet;
#X obj 356 20 inlet;
#X obj 344 180 r reset_analysis;
#X obj 167 172 spigot;
#X msg 224 151 1;
#X obj 224 261 sel 4;
#X msg 276 190 0;
#X obj 224 313 t b b;
#X obj 167 13 inlet;
#X obj 256 239 r files_size;
#X obj 356 47 t b b b;
#X connect 0 0 1 0;
#X connect 0 0 3 0;
#X connect 1 0 0 1;
#X connect 1 0 8 0;
#X connect 2 0 0 1;
#X connect 4 0 13 0;
#X connect 5 0 2 0;
#X connect 6 0 0 0;
#X connect 7 0 6 1;
#X connect 8 0 10 0;
#X connect 9 0 6 1;
#X connect 10 0 2 0;
#X connect 10 1 9 0;
#X connect 11 0 6 0;
#X connect 12 0 8 1;
#X connect 13 0 6 0;
#X connect 13 1 7 0;
#X connect 13 2 2 0;
#X restore 225 88 pd counter_files;
#X floatatom 134 102 5 0 0 0 exemplos - exemplos 0;
#X obj 382 129 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 225 159 t a b;
#X msg 569 108 stop;
#X obj 225 46 r files;
#X obj 694 212 s files;
#X obj 814 23 loadbang;
#X obj 814 128 text size files;
#X obj 814 45 t b b;
#X obj 814 163 s files_size;
#X floatatom 909 162 5 0 0 0 - - - 0;
#X obj 946 42 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X floatatom 865 561 10 0 0 1 ms - - 0;
#N canvas 0 50 450 300 (subpatch) 0;
#X array \$0-attackSegment 56 float 0;
#A color 0;
#A width 1;
#X coords 0 1 55 -1 200 140 1 0 0;
#X restore 1118 247 graph;
#X text 943 234 When an onset is found \, bang to output attack time in milliseconds, f 18;
#X floatatom 935 487 10 0 0 0 - - - 0;
#X floatatom 1025 487 10 0 0 0 - - - 0;
#N canvas 887 358 636 416 plot-attack-segment 0;
#X obj 115 35 inlet;
#X obj 244 35 inlet;
#X obj 134 175 pack f f \$0;
#X obj 134 262 tabletool \$0-attackSegment;
#X obj 426 197 + 1;
#X obj 426 219 pack f \$0;
#X msg 426 241 \; \$2-attackSegment resize \$1;
#X obj 426 153 -;
#X obj 426 175 abs;
#X obj 115 77 t b f f;
#X obj 48 307 f \$0;
#X msg 48 329 \; \$1-attackSegment normalize 0.8 \;;
#X msg 134 221 copy_range 0 \$3-sampleBuffer-graph \$1 \$2;
#X connect 0 0 9 0;
#X connect 1 0 7 1;
#X connect 1 0 2 1;
#X connect 2 0 12 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 7 0 8 0;
#X connect 8 0 4 0;
#X connect 9 0 10 0;
#X connect 9 1 2 0;
#X connect 9 2 7 0;
#X connect 10 0 11 0;
#X connect 12 0 3 0;
#X restore 935 524 pd plot-attack-segment;
#N canvas 713 346 570 417 onsets 0;
#X obj 56 53 inlet~;
#X obj 176 347 outlet;
#X obj 3 4 cnv 10 400 10 empty empty empty 20 12 0 14 #e0e0e0 #404040 0;
#X obj 3 4 cnv 10 10 400 empty empty empty 20 12 0 14 #e0e0e0 #404040 0;
#X obj 208 193 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 259 96 loadbang;
#X obj 56 335 outlet~;
#X obj 176 155 bark~ 4096 1024 0.5;
#X msg 259 119 minvel 50 \, debounce 200 \, thresh -1 20;
#X connect 0 0 6 0;
#X connect 0 0 7 0;
#X connect 5 0 8 0;
#X connect 7 0 4 0;
#X connect 7 0 1 0;
#X connect 8 0 7 0;
#X restore 863 262 pd onsets;
#N canvas 579 96 606 431 sample-buffer 0;
#X obj 38 78 inlet~;
#X obj 38 270 outlet~;
#X obj 108 78 inlet;
#N canvas 0 50 450 300 (subpatch) 0;
#X array \$0-sampleBuffer-graph 88264 float 0;
#A color 0;
#A width 1;
#X coords 0 1 88263 -1 200 140 1 0 0;
#X restore 319 116 graph;
#N canvas 205 170 462 302 do-plotting 0;
#X obj 79 37 inlet;
#X obj 79 203 list prepend 0;
#X obj 203 116 list length;
#X obj 203 138 change;
#X obj 203 160 pack f \$0;
#X obj 79 59 t l l;
#X obj 79 224 s \$0-sampleBuffer-graph;
#X msg 203 181 \; \$2-sampleBuffer-graph resize \$1 \;;
#X connect 0 0 5 0;
#X connect 1 0 6 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 7 0;
#X connect 5 0 1 0;
#X connect 5 1 2 0;
#X restore 108 239 pd do-plotting;
#X obj 108 195 sampleBuffer~ 88264;
#X obj 177 51 loadbang;
#X obj 177 74 samplerate~;
#X obj 177 97 * 2;
#X obj 177 120 + 64;
#X text 110 328 This uses [sampleBuffer~] to grab the same audio contained by [attackTime~]'s internal buffer \, based on max_search_range. max_search_range is 2000ms by default \, so the buffer is two full seconds of samples \, plus a block of samples = 88264 at a 44.1kHz sampling rate.;
#X msg 177 143 window \$1;
#X connect 0 0 1 0;
#X connect 0 0 5 0;
#X connect 2 0 5 0;
#X connect 5 0 4 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 11 0;
#X connect 11 0 5 0;
#X restore 863 311 pd sample-buffer;
#X obj 862 438 attackTime~ 4096;
#X msg 990 400 onset_samp_mag_thresh 0.005;
#X obj 334 29 inlet;
#X obj 597 200 s~ sig;
#X obj 334 52 t b b;
#X obj 366 75 s reset_analysis;
#X obj 546 48 inlet;
#X obj 720 103 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 225 415 s analize;
#X obj 694 187 del 5;
#X msg 1147 80 read ../resources/data/test_files.txt;
#X msg 846 79 read ../resources/data/train_files.txt;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 7 0 9 0;
#X connect 9 0 46 0;
#X connect 9 2 12 0;
#X connect 11 0 10 0;
#X connect 11 0 10 1;
#X connect 11 0 41 0;
#X connect 11 1 14 0;
#X connect 13 0 11 0;
#X connect 14 1 47 0;
#X connect 16 0 20 0;
#X connect 17 0 18 0;
#X connect 17 0 16 0;
#X connect 19 0 17 1;
#X connect 20 0 2 0;
#X connect 21 0 11 0;
#X connect 22 0 17 0;
#X connect 24 0 26 0;
#X connect 25 0 27 0;
#X connect 25 0 28 0;
#X connect 26 0 25 0;
#X connect 26 1 48 0;
#X connect 29 0 26 0;
#X connect 33 0 35 0;
#X connect 34 0 35 1;
#X connect 36 0 37 0;
#X connect 36 1 37 1;
#X connect 36 1 38 0;
#X connect 37 0 38 0;
#X connect 38 0 30 0;
#X connect 38 1 33 0;
#X connect 38 2 34 0;
#X connect 39 0 38 0;
#X connect 40 0 42 0;
#X connect 42 0 17 1;
#X connect 42 1 43 0;
#X connect 44 0 11 0;
#X connect 45 0 25 0;
#X connect 47 0 23 0;
#X connect 48 0 15 0;
#X connect 49 0 15 0;
#X restore 34 365 pd playbuffers;
#X obj 47 133 s mfcc_data;
#X obj 47 57 vradio 18 1 0 4 empty empty empty 0 -8 0 10 #ffffff #000000 #000000 0;
#X text 68 110 mfcc -> text file;
#X msg 378 182 method latent;
#X obj 358 256 unpack f f f f f f f f f f f f f f f f f f f f, f 80;
#X msg 77 201 method forward;
#X obj 378 135 r load_mess;
#X msg 370 431 method reconstruct;
#X obj 358 348 pack f f f f f f f f f f f f f f f f f f f f, f 80;
#X obj 358 305 *;
#X obj 387 305 *;
#X obj 416 305 *;
#X obj 445 305 *;
#X obj 475 305 *;
#X obj 504 305 *;
#X obj 533 305 *;
#X obj 563 305 *;
#X obj 592 305 *;
#X obj 621 305 *;
#X obj 651 305 *;
#X obj 680 305 *;
#X obj 709 305 *;
#X obj 739 305 *;
#X obj 768 305 *;
#X obj 797 305 *;
#X obj 827 305 *;
#X obj 856 305 *;
#X obj 885 305 *;
#X obj 915 305 *;
#X floatatom 933 269 5 0 1 2 manipulate\ the\ latent\ space\ output - - 0;
#X obj 378 159 t b a;
#X obj 370 378 r load_mess;
#X obj 370 405 t b a;
#X obj 42 173 r mfcc_forward;
#X obj 359 108 r mfcc_latent;
#X text 68 93 mfcc -> latent -> reconstruct;
#X text 175 254 <-- forward method receives the input data and return the reconstructed input, f 19;
#X text 494 207 <-- latent method receives the input data and return the latent space, f 32;
#X text 490 461 <-- reconstruct method receives the latent space and return the reconstructed input, f 42;
#X msg 34 343 play;
#N canvas 1403 129 906 633 init 0;
#X obj 32 107 loadbang;
#X obj 109 114 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X text 312 156 load a TorchScript model;
#X obj 15 12 declare -lib timbreIDLib;
#X obj 15 39 declare -path ..;
#X obj 32 130 t b b;
#X obj 64 180 s load_mess;
#X obj 186 242 t l l;
#X obj 218 264 list length;
#X obj 218 287 array size MFCC_reconstructed;
#X obj 186 313 array set MFCC_reconstructed;
#X obj 38 313 t l l;
#X obj 70 335 list length;
#X obj 70 358 array size MFCC_original;
#X obj 38 384 array set MFCC_original;
#X obj 186 219 r reconstructed;
#X obj 46 286 r mfcc_forward;
#X obj 38 259 r mfcc_latent;
#X obj 519 333 s MFCC_original;
#X msg 519 309 xticks 0 20 4;
#X msg 520 381 xticks 0 20 4;
#X obj 521 408 s MFCC_reconstructed;
#X msg 626 380 yticks 0 0.1 1;
#X msg 625 308 yticks 0 0.1 1;
#X obj 512 248 loadbang;
#X msg 64 155 load ../resources/ts/caenn_mfcc.ts;
#X connect 0 0 5 0;
#X connect 1 0 5 0;
#X connect 5 1 25 0;
#X connect 7 0 10 0;
#X connect 7 1 8 0;
#X connect 8 0 9 0;
#X connect 11 0 14 0;
#X connect 11 1 12 0;
#X connect 12 0 13 0;
#X connect 15 0 7 0;
#X connect 16 0 11 0;
#X connect 17 0 11 0;
#X connect 19 0 18 0;
#X connect 20 0 21 0;
#X connect 22 0 21 0;
#X connect 23 0 18 0;
#X connect 24 0 19 0;
#X connect 24 0 23 0;
#X connect 24 0 20 0;
#X connect 24 0 22 0;
#X connect 25 0 6 0;
#X restore 15 13 pd init;
#X text 33 317 play samples;
#X text 68 76 mfcc -> forward;
#X obj 84 227 r load_mess;
#X obj 42 254 torch.ts -d mps -v;
#X obj 358 461 torch.ts -d mps -v;
#X obj 358 207 torch.ts -d mps -v;
#N canvas 0 22 450 278 (subpatch) 0;
#X array MFCC_original 400 float 5;
#A 0 0.32456 0.393884 0.518511 0.557173 0.580785 0.577012 0.583559 0.60586 0.605797 0.610499 0.575488 0.55507 0.536003 0.545807 0.56806 0.52404 0.568633 0.553927 0.546849 0.566306 -0.261263 -0.265257 -0.169319 -0.133588 -0.115742 -0.101954 -0.109495 -0.0797426 -0.0273698 -0.0492282 -0.0736145 -0.0971488 -0.13262 -0.123551 -0.107838 -0.141152 -0.0990649 -0.0786706 -0.093128 -0.0705385 -0.226868 -0.291177 -0.404889 -0.503437 -0.560126 -0.558114 -0.550129 -0.540921 -0.444237 -0.496596 -0.43314 -0.407585 -0.405956 -0.428738 -0.467325 -0.350947 -0.451425 -0.365763 -0.363615 -0.402588 -0.107753 -0.274046 -0.471127 -0.543958 -0.627987 -0.624486 -0.634926 -0.647774 -0.559858 -0.639334 -0.533714 -0.479793 -0.439929 -0.475475 -0.529492 -0.30582 -0.529348 -0.394513 -0.3927 -0.46238 -0.239883 -0.367255 -0.441177 -0.38658 -0.38981 -0.385661 -0.438368 -0.447912 -0.428077 -0.479996 -0.434389 -0.412147 -0.394294 -0.416603 -0.415865 -0.310056 -0.45781 -0.340394 -0.36449 -0.387835 -0.187902 -0.114658 -0.05129 -0.0127837 0.0462456 0.0437951 -0.00328675 -0.0212931 -0.061588 -0.0414078 -0.0936655 -0.112233 -0.125862 -0.129637 -0.06819 -0.186019 -0.13009 -0.104069 -0.122881 -0.102 0.0606927 0.272183 0.416389 0.406572 0.454351 0.448627 0.466379 0.43409 0.359664 0.429742 0.336183 0.291836 0.262835 0.303471 0.375519 0.164249 0.34602 0.242455 0.284741 0.288018 0.232495 0.363025 0.481844 0.547571 0.590065 0.584992 0.6428 0.626013 0.527452 0.611429 0.548968 0.488657 0.443299 0.519703 0.582774 0.419664 0.594828 0.407234 0.483153 0.48984 0.158106 0.200456 0.209636 0.298741 0.349274 0.342038 0.380877 0.396174 0.303029 0.373764 0.370634 0.315289 0.288836 0.311958 0.361495 0.270014 0.400501 0.256419 0.26973 0.339845 -0.0416493 -0.0123042 -0.105024 -0.143499 -0.126565 -0.134852 -0.124551 -0.105799 -0.139959 -0.107339 -0.0638868 -0.0758532 -0.0497644 -0.114519 -0.116431 -0.106312 -0.0352177 -0.0762149 -0.130821 -0.0368888 -0.204559 -0.259037 -0.375848 -0.487011 -0.540027 -0.533685 -0.51654 -0.519785 -0.486253 -0.484656 -0.404371 -0.375332 -0.329083 -0.388782 -0.467874 -0.328257 -0.363774 -0.346199 -0.373652 -0.371541 -0.195362 -0.396271 -0.495494 -0.545013 -0.636984 -0.595455 -0.560879 -0.581655 -0.522709 -0.537523 -0.453837 -0.411483 -0.395325 -0.383765 -0.491768 -0.305949 -0.434148 -0.394958 -0.373342 -0.466999 -0.10118 -0.232734 -0.259562 -0.280536 -0.334952 -0.301049 -0.277076 -0.313479 -0.283138 -0.305438 -0.267224 -0.23904 -0.238763 -0.21158 -0.26534 -0.175444 -0.29344 -0.211305 -0.240162 -0.312665 0.0566856 0.107665 0.177179 0.16486 0.183459 0.159868 0.150046 0.0949003 0.0605759 0.0579333 0.0284476 0.053739 0.0463815 0.0443783 0.0666407 0.0119013 -0.0204669 0.0816237 -0.00837809 -0.0236739 0.129185 0.25684 0.409414 0.493232 0.550643 0.505717 0.482337 0.427176 0.346597 0.376697 0.30214 0.33028 0.32033 0.319932 0.365174 0.252802 0.281449 0.289409 0.260515 0.264509 0.171506 0.259903 0.378766 0.49553 0.535823 0.516529 0.515551 0.500551 0.441472 0.474514 0.407963 0.417573 0.421155 0.425224 0.455303 0.391093 0.441657 0.325622 0.397401 0.410995 0.174106 0.225805 0.207796 0.188834 0.188556 0.187889 0.213757 0.250977 0.260705 0.26855 0.251987 0.232898 0.258876 0.215676 0.240293 0.23312 0.303338 0.179184 0.247723 0.296094 -0.031119 -0.0189585 -0.117752 -0.225511 -0.243535 -0.226364 -0.21225 -0.146391 -0.0867885 -0.104676 -0.0732545 -0.0983942 -0.0633029 -0.150511 -0.136843 -0.107743 -0.0492045 -0.10203 -0.0862416 -0.02051 -0.209135 -0.319606 -0.41162 -0.450404 -0.470426 -0.431319 -0.451002 -0.389341 -0.320214 -0.356681 -0.293491 -0.303333 -0.271966 -0.326718 -0.371368 -0.27091 -0.299612 -0.293089 -0.274028 -0.265819 -0.0972746 -0.253535 -0.330134 -0.333671 -0.373707 -0.347503 -0.375592 -0.350449 -0.289488 -0.332172 -0.260609 -0.255841 -0.245456 -0.226165 -0.319035 -0.169486 -0.291281 -0.220876 -0.182275 -0.266092;
#A color 0;
#A width 1;
#X coords 0 1 399 -1 442 230 1 0 0;
#X xticks 0 20 4;
#X yticks 0 0.1 1;
#X restore 29 540 graph;
#X obj 42 277 s reconstructed;
#X obj 358 484 s reconstructed;
#N canvas 0 22 450 278 (subpatch) 0;
#X array MFCC_reconstructed 400 float 5;
#A 0 0.0559312 0.356224 0.477458 0.63511 0.672282 0.662637 0.667196 0.627234 0.645499 0.635592 0.62273 0.587082 0.553007 0.569894 0.578791 0.553981 0.550676 0.582136 0.578 0.549241 0.0169027 -0.129181 -0.174797 -0.11738 -0.108937 -0.082836 -0.00151995 -0.0630609 -0.0345389 -0.0021823 -0.0277878 -0.0826283 -0.120964 -0.112682 -0.111139 -0.151108 -0.1293 -0.147645 -0.109893 -0.11029 -0.0189479 -0.142139 -0.365708 -0.525009 -0.580739 -0.553226 -0.498125 -0.478135 -0.411708 -0.361071 -0.359178 -0.364572 -0.362171 -0.38907 -0.407879 -0.432805 -0.37974 -0.463104 -0.437593 -0.385998 0.0280507 -0.119157 -0.315611 -0.517268 -0.597551 -0.603809 -0.563851 -0.565125 -0.528809 -0.478556 -0.50109 -0.479328 -0.476385 -0.468772 -0.482135 -0.475698 -0.429201 -0.540065 -0.536112 -0.428158 -0.0245577 -0.22694 -0.341932 -0.449208 -0.479736 -0.410808 -0.43816 -0.447632 -0.448164 -0.411335 -0.441188 -0.400339 -0.40498 -0.381178 -0.378289 -0.341456 -0.297427 -0.36598 -0.390913 -0.313707 0.00692355 -0.209083 -0.199397 -0.112947 -0.104729 -0.0585805 -0.0551616 -0.115101 -0.151032 -0.129389 -0.0875475 -0.111281 -0.118304 -0.108187 -0.0733693 -0.0645952 -0.0364116 0.0572832 0.0295253 0.00759803 -0.010033 -0.056144 0.072375 0.238358 0.326364 0.323615 0.293684 0.267232 0.25154 0.26529 0.304311 0.309573 0.290366 0.2577 0.263153 0.246002 0.236526 0.381906 0.38156 0.319078 0.0522514 0.142083 0.339019 0.463228 0.567604 0.559384 0.527246 0.521583 0.498058 0.482497 0.510049 0.541313 0.523315 0.514198 0.528663 0.489806 0.429288 0.568757 0.567332 0.487041 0.0595904 0.150752 0.315389 0.444135 0.449992 0.438541 0.42633 0.390163 0.395993 0.340424 0.36769 0.398697 0.381563 0.375537 0.414414 0.363873 0.301248 0.443267 0.478385 0.398791 0.0485936 0.0132044 0.0869384 0.00389681 -0.0655918 -0.0835852 -0.0954334 -0.0525366 -0.0312031 -0.0828019 -0.0354504 -0.050329 -0.0360538 -0.0445556 -0.0813417 -0.0851356 -0.11365 -0.0998565 -0.0726151 -0.0864749 0.025579 -0.104794 -0.244144 -0.41746 -0.520241 -0.508026 -0.493435 -0.444514 -0.377543 -0.40129 -0.356919 -0.353142 -0.2983 -0.360455 -0.410535 -0.448485 -0.432682 -0.451042 -0.454947 -0.370764 0.029329 -0.0991759 -0.30022 -0.526794 -0.585091 -0.574091 -0.506669 -0.408116 -0.406299 -0.447101 -0.453078 -0.418604 -0.368952 -0.406183 -0.430824 -0.388779 -0.35433 -0.454069 -0.46068 -0.396085 0.0220518 -0.0663639 -0.223935 -0.323114 -0.375903 -0.309655 -0.258146 -0.136593 -0.151898 -0.254758 -0.249273 -0.251824 -0.22395 -0.225332 -0.187844 -0.0956248 -0.0627349 -0.16608 -0.188732 -0.211989 0.0364664 0.0739717 0.00389345 0.16004 0.155536 0.168984 0.178958 0.175487 0.142097 0.101647 0.0184634 0.0235409 0.0645388 0.174774 0.172903 0.142452 0.14206 0.100013 0.0578528 0.0639633 0.0559666 0.206724 0.264275 0.428825 0.497307 0.494916 0.451507 0.426281 0.391356 0.367514 0.282324 0.243131 0.296 0.407662 0.391426 0.350951 0.386858 0.372849 0.330449 0.294916 0.0261928 0.200359 0.333459 0.457285 0.506729 0.518013 0.515513 0.48078 0.485033 0.527834 0.477855 0.490681 0.484107 0.464152 0.48822 0.457192 0.458349 0.519073 0.497369 0.415322 0.00196388 0.140215 0.190245 0.206846 0.206655 0.246205 0.246496 0.234268 0.278076 0.35083 0.361949 0.34018 0.262991 0.215425 0.230092 0.202258 0.167023 0.290676 0.279179 0.208039 -0.079653 -0.125835 -0.16251 -0.258494 -0.292417 -0.278213 -0.246365 -0.239583 -0.187879 -0.151832 -0.107154 -0.163499 -0.19605 -0.269997 -0.260719 -0.289904 -0.314267 -0.300948 -0.243488 -0.1893 -0.056087 -0.195042 -0.25272 -0.428105 -0.455431 -0.421944 -0.383596 -0.477307 -0.412062 -0.354162 -0.308978 -0.350376 -0.319131 -0.359487 -0.347782 -0.367937 -0.393203 -0.433268 -0.39578 -0.344222 0.0116175 -0.151153 -0.251341 -0.325691 -0.368925 -0.3018 -0.281106 -0.363372 -0.319951 -0.286541 -0.265676 -0.281109 -0.239255 -0.260164 -0.268659 -0.262327 -0.253204 -0.291691 -0.282147 -0.311765;
#A color 0;
#A width 1;
#X coords 0 1 399 -1 442 230 1 0 0;
#X xticks 0 20 4;
#X yticks 0 0.1 1;
#X restore 495 541 graph;
#X text 419 21 MFCC FRAMES RECONSTRUCTION;
#X connect 3 0 4 1;
#X connect 6 0 5 0;
#X connect 8 0 51 0;
#X connect 9 0 14 0;
#X connect 9 1 15 0;
#X connect 9 2 16 0;
#X connect 9 3 17 0;
#X connect 9 4 18 0;
#X connect 9 5 19 0;
#X connect 9 6 20 0;
#X connect 9 7 21 0;
#X connect 9 8 22 0;
#X connect 9 9 23 0;
#X connect 9 10 24 0;
#X connect 9 11 25 0;
#X connect 9 12 26 0;
#X connect 9 13 27 0;
#X connect 9 14 28 0;
#X connect 9 15 29 0;
#X connect 9 16 30 0;
#X connect 9 17 31 0;
#X connect 9 18 32 0;
#X connect 9 19 33 0;
#X connect 10 0 49 0;
#X connect 11 0 35 0;
#X connect 12 0 50 0;
#X connect 13 0 50 0;
#X connect 14 0 13 0;
#X connect 15 0 13 1;
#X connect 16 0 13 2;
#X connect 17 0 13 3;
#X connect 18 0 13 4;
#X connect 19 0 13 5;
#X connect 20 0 13 6;
#X connect 21 0 13 7;
#X connect 22 0 13 8;
#X connect 23 0 13 9;
#X connect 24 0 13 10;
#X connect 25 0 13 11;
#X connect 26 0 13 12;
#X connect 27 0 13 13;
#X connect 28 0 13 14;
#X connect 29 0 13 15;
#X connect 30 0 13 16;
#X connect 31 0 13 17;
#X connect 32 0 13 18;
#X connect 33 0 13 19;
#X connect 34 0 14 1;
#X connect 34 0 33 1;
#X connect 34 0 32 1;
#X connect 34 0 31 1;
#X connect 34 0 30 1;
#X connect 34 0 29 1;
#X connect 34 0 28 1;
#X connect 34 0 27 1;
#X connect 34 0 26 1;
#X connect 34 0 25 1;
#X connect 34 0 24 1;
#X connect 34 0 23 1;
#X connect 34 0 22 1;
#X connect 34 0 21 1;
#X connect 34 0 20 1;
#X connect 34 0 19 1;
#X connect 34 0 18 1;
#X connect 34 0 17 1;
#X connect 34 0 16 1;
#X connect 34 0 15 1;
#X connect 35 0 8 0;
#X connect 35 1 51 0;
#X connect 36 0 37 0;
#X connect 37 0 12 0;
#X connect 37 1 50 0;
#X connect 38 0 49 0;
#X connect 39 0 51 0;
#X connect 44 0 4 0;
#X connect 48 0 49 0;
#X connect 49 0 53 0;
#X connect 50 0 54 0;
#X connect 51 0 9 0;
