#N canvas 369 53 567 901 12;
#X obj 223 378 osc~;
#X floatatom 223 356 8 0 0 0 - - - 12;
#X obj 233 497 vu 19 120 empty empty -1 -10 0 12 #404040 #000000 1 0;
#N canvas 733 172 450 300 dB 0;
#X obj 593 500 env~;
#X floatatom 593 525 5 0 0 0 - - - 0;
#X obj 593 548 - 100;
#X floatatom 593 572 5 0 0 0 - - - 0;
#X obj 595 456 inlet~;
#X obj 593 597 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 4 0 0 0;
#X restore 222 470 pd dB;
#X f 7;
#X floatatom 231 625 5 0 0 0 - - - 12;
#X text 458 378 <- see inside;
#X text 280 372 test signal;
#X obj 223 403 send~ \$0_testsig;
#X text -2 336 frequency of test sinusoid;
#X obj 222 445 r~ \$0_testsig;
#X obj 228 664 r~ \$0_testsig;
#X obj 364 355 r~ \$0_testsig;
#X obj 364 403 s~ \$0_resynth;
#X obj 333 497 vu 19 120 empty empty -1 -10 0 12 #404040 #000000 1 0;
#N canvas 733 172 450 300 dB 0;
#X obj 593 500 env~;
#X floatatom 593 525 5 0 0 0 - - - 0;
#X obj 593 548 - 100;
#X floatatom 593 572 5 0 0 0 - - - 0;
#X obj 595 456 inlet~;
#X obj 593 597 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 4 0 0 0;
#X restore 322 470 pd dB;
#X f 7;
#X floatatom 331 625 5 0 0 0 - - - 12;
#X obj 322 445 r~ \$0_resynth;
#X obj 331 664 r~ \$0_resynth;
#N canvas 733 172 175 261 6th_bin 1;
#X obj 73 69 samplerate~;
#X obj 73 43 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X floatatom 73 94 5 0 0 0 - - - 0;
#X obj 73 143 /;
#X floatatom 73 168 5 0 0 0 - - - 0;
#X obj 20 195 *;
#X obj 20 218 outlet;
#X msg 73 118 \$1 1024;
#X floatatom 20 91 5 0 0 0 - - - 0;
#X obj 20 18 loadbang;
#X obj 20 44 t b b, f 6;
#X msg 20 67 6;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 2 0 7 0;
#X connect 3 0 4 0;
#X connect 4 0 5 1;
#X connect 5 0 6 0;
#X connect 7 0 3 0;
#X connect 8 0 5 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 10 1 1 0;
#X connect 11 0 8 0;
#X restore 223 333 pd 6th_bin;
#X f 11;
#N canvas 371 161 1141 782 look_here 1;
#X obj 113 22 inlet~;
#X obj 112 214 block~ 1024 4;
#X text 559 484 Window types: hann \, hamm \, bartlett/triangular \, rectangular;
#X obj 113 162 outlet~;
#N canvas 208 246 450 278 (subpatch) 0;
#X array \$0_rfft_view 1024 float 0;
#A color 0;
#A width 1;
#X coords 0 1 1025 0 480 165 1 0 0;
#X xticks 0 32 4;
#X yticks 0 0.05 5;
#X xlabel -0.05 0 128 256 384 512 640 768 896;
#X ylabel -10 0 0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1;
#X restore 51 289 graph;
#X obj 129 102 tabsend~ \$0_rfft_view;
#X text 538 286 IMPORTANT NOTES:;
#X text 561 306 - torch.rfft~/torch.irfft~ are designed to be used in subpatches with [block <winsize> <overlap>];
#X text 559 339 - torch.rfft~ handles windowing and overall normalization \, but the final overlap-related normalization is better handled by torch.irfft~;
#X text 540 388 so:;
#X text 564 406 - torch.rfft~ must have -window AND -norm to have windowing and window-based normalization;
#X text 564 436 - torch.irfft~ usually will have -overlap_factor or -of followed by the number of overlaps (4 in this example);
#X obj 113 72 torch.rfft~ -unit complex -w hann -norm mag;
#X obj 113 138 torch.irfft~ -unit complex -of 4 -w hann -norm mag;
#X obj 33 53 r \$0_toobj;
#X obj 32 115 r \$0_toobj;
#X msg 698 114 unit complex;
#X msg 698 138 unit magphase;
#X msg 698 162 unit powerphase;
#X msg 698 186 unit dbphase;
#X msg 604 94 norm mag;
#X msg 604 118 norm n_fft;
#X obj 678 213 s \$0_toobj;
#X obj 580 213 s \$0_toobj;
#X msg 604 142 norm pow;
#X msg 604 186 norm psd;
#X text 818 113 out1: real / out2: imag;
#X text 818 137 out1: mag / out2:phase;
#X text 818 161 out1: power (linear) / out2: phase;
#X text 818 185 out1: power (dB) / out2: phase;
#X text 214 213 overkap_factor: should match block overlap!;
#X text 171 163 irfft must match unit;
#X msg 604 164 norm powpeak;
#N canvas 381 451 632 503 bin 0;
#X obj 6 5 loadbang;
#X obj 6 29 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 6 77 metro 25;
#X floatatom 161 277 15 0 0 0 sum - - 0;
#X msg 6 53 1;
#X floatatom 163 229 15 0 0 0 max - - 0;
#X floatatom 162 253 15 0 0 0 min - - 0;
#X obj -4 101 t a a a;
#N canvas 643 237 869 521 array_label_ticks 0;
#X obj 163 63 loadbang;
#X obj 161 140 f \$0;
#X obj 163 87 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 254 97 inlet;
#X obj 254 121 pack 0 \$0;
#X msg 164 388 \; \$1_rfft_view xlabel -0.05 0 128 256 384 512 640 768 896 \; \$1_rfft_view ylabel -10 0 0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1 \; \$1_rfft_view xticks 0 32 4 \; \$1_rfft_view yticks 0 0.05 5 \; \$1_rfft_view bounds 0 1 1025 0 \;;
#X msg 298 226 \; \$1_rfft_view xlabel -105 0 128 256 384 512 640 768 896 \; \$1_rfft_view ylabel -10 -100 -90 -80 -70 -60 -50 -40 -30 -20 -10 0 \; \$1_rfft_view xticks 0 32 4 \; \$1_rfft_view yticks -100 5 2 \; \$1_rfft_view bounds 0 0 1025 -100 \;;
#X obj 254 145 route 0 1 2;
#X msg 386 99 \; \$1_rfft_view xlabel -25.6 0 128 256 384 512 640 768 896 \; \$1_rfft_view ylabel -10 0 64 128 192 256 320 384 448 512 \; \$1_rfft_view xticks 0 32 4 \; \$1_rfft_view yticks 0 32 4 \; \$1_rfft_view bounds 0 512 1025 0 \;;
#X connect 0 0 2 0;
#X connect 1 0 5 0;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 4 0 7 0;
#X connect 7 0 5 0;
#X connect 7 1 6 0;
#X connect 7 2 8 0;
#X restore 6 345 pd array_label_ticks;
#X obj 6 237 vradio 19 1 0 3 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0;
#X text 28 236 linear 0-1;
#X text 28 257 dB -100 - 0;
#X text 28 277 linear 0-512;
#X text 3 213 array scale;
#X text 136 209 array stats;
#X obj 338 33 r \$0_toobj;
#X obj 338 57 route unit;
#X obj 338 81 route complex magphase powerphase dbphase;
#X msg 338 117 0;
#X msg 374 117 1;
#X msg 421 117 2;
#X obj 56 126 array max \$0_rfft_view;
#X obj 56 149 array min \$0_rfft_view;
#X obj 56 172 array sum \$0_rfft_view;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 2 0 7 0;
#X connect 4 0 2 0;
#X connect 7 0 21 0;
#X connect 7 1 22 0;
#X connect 7 2 23 0;
#X connect 9 0 8 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 17 1 18 0;
#X connect 17 2 18 0;
#X connect 17 3 19 0;
#X connect 18 0 9 0;
#X connect 19 0 9 0;
#X connect 21 0 5 0;
#X connect 22 0 6 0;
#X connect 23 0 3 0;
#X coords 0 -1 1 1 280 90 2 2 210;
#X restore 172 517 pd bin stats;
#X connect 0 0 12 0;
#X connect 12 0 5 0;
#X connect 12 0 13 0;
#X connect 12 1 13 1;
#X connect 13 0 3 0;
#X connect 14 0 12 0;
#X connect 15 0 13 0;
#X connect 16 0 22 0;
#X connect 17 0 22 0;
#X connect 18 0 22 0;
#X connect 19 0 22 0;
#X connect 20 0 23 0;
#X connect 21 0 23 0;
#X connect 24 0 23 0;
#X connect 25 0 23 0;
#X connect 32 0 23 0;
#X coords 0 782 1 781 450 300 0;
#X restore 364 379 pd look_here;
#X obj 228 688 output~;
#X connect 0 0 7 0;
#X connect 1 0 0 0;
#X connect 3 0 2 0;
#X connect 3 0 4 0;
#X connect 9 0 3 0;
#X connect 10 0 20 0;
#X connect 11 0 19 0;
#X connect 14 0 13 0;
#X connect 14 0 15 0;
#X connect 16 0 14 0;
#X connect 17 0 20 1;
#X connect 18 0 1 0;
#X connect 19 0 12 0;
